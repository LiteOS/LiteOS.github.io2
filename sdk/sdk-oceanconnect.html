<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>设备接入OceanConnect集成开发流程 | Huawei LiteOS | 中文网</title>
    <meta name="description" content="轻量级物联网操作系统，物的智能化使能平台">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.aa9b5622.css" as="style"><link rel="preload" href="/assets/js/app.c5ac3aee.js" as="script"><link rel="preload" href="/assets/js/3.c0534be0.js" as="script"><link rel="prefetch" href="/assets/js/10.622e3648.js"><link rel="prefetch" href="/assets/js/100.cd1e933a.js"><link rel="prefetch" href="/assets/js/101.9147b6e7.js"><link rel="prefetch" href="/assets/js/102.c14fc742.js"><link rel="prefetch" href="/assets/js/103.141a2f94.js"><link rel="prefetch" href="/assets/js/104.a1175785.js"><link rel="prefetch" href="/assets/js/105.44cac526.js"><link rel="prefetch" href="/assets/js/106.412f828b.js"><link rel="prefetch" href="/assets/js/107.e39d13ea.js"><link rel="prefetch" href="/assets/js/108.101ba33f.js"><link rel="prefetch" href="/assets/js/109.df05aedf.js"><link rel="prefetch" href="/assets/js/11.99cb10ad.js"><link rel="prefetch" href="/assets/js/110.b5bd505b.js"><link rel="prefetch" href="/assets/js/111.cf69292b.js"><link rel="prefetch" href="/assets/js/112.d31f590a.js"><link rel="prefetch" href="/assets/js/113.abf7f039.js"><link rel="prefetch" href="/assets/js/114.9c89e019.js"><link rel="prefetch" href="/assets/js/115.aafd86a1.js"><link rel="prefetch" href="/assets/js/116.4f9e0a51.js"><link rel="prefetch" href="/assets/js/117.970af565.js"><link rel="prefetch" href="/assets/js/118.c6e6055f.js"><link rel="prefetch" href="/assets/js/119.aae26f65.js"><link rel="prefetch" href="/assets/js/12.ed3e711a.js"><link rel="prefetch" href="/assets/js/120.5c3bfe34.js"><link rel="prefetch" href="/assets/js/121.8883d5ab.js"><link rel="prefetch" href="/assets/js/122.8ddf3b69.js"><link rel="prefetch" href="/assets/js/123.0b202853.js"><link rel="prefetch" href="/assets/js/124.2f97198f.js"><link rel="prefetch" href="/assets/js/125.c22fb4fb.js"><link rel="prefetch" href="/assets/js/126.d79509a8.js"><link rel="prefetch" href="/assets/js/127.638938d0.js"><link rel="prefetch" href="/assets/js/128.8bcf4812.js"><link rel="prefetch" href="/assets/js/129.da9f57c4.js"><link rel="prefetch" href="/assets/js/13.a5b2e9be.js"><link rel="prefetch" href="/assets/js/130.0aa44abe.js"><link rel="prefetch" href="/assets/js/131.6106a9e6.js"><link rel="prefetch" href="/assets/js/132.72dd6968.js"><link rel="prefetch" href="/assets/js/133.ff65618b.js"><link rel="prefetch" href="/assets/js/134.28dc33fa.js"><link rel="prefetch" href="/assets/js/135.df5f7584.js"><link rel="prefetch" href="/assets/js/136.9ce90e6d.js"><link rel="prefetch" href="/assets/js/137.b591c6a4.js"><link rel="prefetch" href="/assets/js/138.88da20fc.js"><link rel="prefetch" href="/assets/js/139.1267568a.js"><link rel="prefetch" href="/assets/js/14.aab0971a.js"><link rel="prefetch" href="/assets/js/140.bda1aa49.js"><link rel="prefetch" href="/assets/js/141.0e8fe2dd.js"><link rel="prefetch" href="/assets/js/142.e3eb4380.js"><link rel="prefetch" href="/assets/js/143.8b9683ed.js"><link rel="prefetch" href="/assets/js/144.5aae03ae.js"><link rel="prefetch" href="/assets/js/145.3e0821d7.js"><link rel="prefetch" href="/assets/js/146.e4c22699.js"><link rel="prefetch" href="/assets/js/147.103ce8ce.js"><link rel="prefetch" href="/assets/js/148.69cbe7f6.js"><link rel="prefetch" href="/assets/js/149.b26b7a7c.js"><link rel="prefetch" href="/assets/js/15.96ec1156.js"><link rel="prefetch" href="/assets/js/150.78a3cd53.js"><link rel="prefetch" href="/assets/js/151.bfccf429.js"><link rel="prefetch" href="/assets/js/152.29a1db7b.js"><link rel="prefetch" href="/assets/js/153.9896b240.js"><link rel="prefetch" href="/assets/js/154.022a027d.js"><link rel="prefetch" href="/assets/js/155.6a6991b8.js"><link rel="prefetch" href="/assets/js/156.8162b3fa.js"><link rel="prefetch" href="/assets/js/157.ff95a1dc.js"><link rel="prefetch" href="/assets/js/158.76a1c516.js"><link rel="prefetch" href="/assets/js/159.39a6a024.js"><link rel="prefetch" href="/assets/js/16.29b4d265.js"><link rel="prefetch" href="/assets/js/160.61d832b2.js"><link rel="prefetch" href="/assets/js/17.4c3cc860.js"><link rel="prefetch" href="/assets/js/18.680b4b9d.js"><link rel="prefetch" href="/assets/js/19.52867e63.js"><link rel="prefetch" href="/assets/js/20.ddbb9344.js"><link rel="prefetch" href="/assets/js/21.089c25eb.js"><link rel="prefetch" href="/assets/js/22.9fc0cba0.js"><link rel="prefetch" href="/assets/js/23.5d0e01a7.js"><link rel="prefetch" href="/assets/js/24.4a5f8b26.js"><link rel="prefetch" href="/assets/js/25.f6f1db3d.js"><link rel="prefetch" href="/assets/js/26.dad4a9ba.js"><link rel="prefetch" href="/assets/js/27.5dd34877.js"><link rel="prefetch" href="/assets/js/28.78622d28.js"><link rel="prefetch" href="/assets/js/29.535a704e.js"><link rel="prefetch" href="/assets/js/30.e21b9ec2.js"><link rel="prefetch" href="/assets/js/31.da74d4a3.js"><link rel="prefetch" href="/assets/js/32.491e07c0.js"><link rel="prefetch" href="/assets/js/33.f5f40e37.js"><link rel="prefetch" href="/assets/js/34.e1cde8c7.js"><link rel="prefetch" href="/assets/js/35.2a4c77e4.js"><link rel="prefetch" href="/assets/js/36.fec56c6b.js"><link rel="prefetch" href="/assets/js/37.96f7e0bd.js"><link rel="prefetch" href="/assets/js/38.4a063c69.js"><link rel="prefetch" href="/assets/js/39.54825954.js"><link rel="prefetch" href="/assets/js/4.91a81491.js"><link rel="prefetch" href="/assets/js/40.6064ca55.js"><link rel="prefetch" href="/assets/js/41.87ac8088.js"><link rel="prefetch" href="/assets/js/42.98dc4073.js"><link rel="prefetch" href="/assets/js/43.428af899.js"><link rel="prefetch" href="/assets/js/44.774c005c.js"><link rel="prefetch" href="/assets/js/45.1f411f1b.js"><link rel="prefetch" href="/assets/js/46.b729f1ef.js"><link rel="prefetch" href="/assets/js/47.babe8509.js"><link rel="prefetch" href="/assets/js/48.2e16a315.js"><link rel="prefetch" href="/assets/js/49.e941c71e.js"><link rel="prefetch" href="/assets/js/5.665d478f.js"><link rel="prefetch" href="/assets/js/50.16fd48b5.js"><link rel="prefetch" href="/assets/js/51.e3d3ed73.js"><link rel="prefetch" href="/assets/js/52.4eb8a712.js"><link rel="prefetch" href="/assets/js/53.ad093c36.js"><link rel="prefetch" href="/assets/js/54.cd25b5e7.js"><link rel="prefetch" href="/assets/js/55.476184c6.js"><link rel="prefetch" href="/assets/js/56.64576f4b.js"><link rel="prefetch" href="/assets/js/57.dd899c1f.js"><link rel="prefetch" href="/assets/js/58.e699db2b.js"><link rel="prefetch" href="/assets/js/59.7338efba.js"><link rel="prefetch" href="/assets/js/6.783768c5.js"><link rel="prefetch" href="/assets/js/60.0b84a25f.js"><link rel="prefetch" href="/assets/js/61.e84e27c1.js"><link rel="prefetch" href="/assets/js/62.77a997f0.js"><link rel="prefetch" href="/assets/js/63.7ffef716.js"><link rel="prefetch" href="/assets/js/64.9b76de04.js"><link rel="prefetch" href="/assets/js/65.629f5839.js"><link rel="prefetch" href="/assets/js/66.6c2481e0.js"><link rel="prefetch" href="/assets/js/67.f8e0bab4.js"><link rel="prefetch" href="/assets/js/68.907b6693.js"><link rel="prefetch" href="/assets/js/69.30ec4d36.js"><link rel="prefetch" href="/assets/js/7.010a73d4.js"><link rel="prefetch" href="/assets/js/70.3600b9e9.js"><link rel="prefetch" href="/assets/js/71.1bfd0dc6.js"><link rel="prefetch" href="/assets/js/72.c2646a35.js"><link rel="prefetch" href="/assets/js/73.2810f6db.js"><link rel="prefetch" href="/assets/js/74.3754ccea.js"><link rel="prefetch" href="/assets/js/75.e1900466.js"><link rel="prefetch" href="/assets/js/76.8f166989.js"><link rel="prefetch" href="/assets/js/77.3783726b.js"><link rel="prefetch" href="/assets/js/78.622f57a6.js"><link rel="prefetch" href="/assets/js/79.70df3a19.js"><link rel="prefetch" href="/assets/js/8.9fbb5433.js"><link rel="prefetch" href="/assets/js/80.d0c68d0a.js"><link rel="prefetch" href="/assets/js/81.bffc4099.js"><link rel="prefetch" href="/assets/js/82.b7de4759.js"><link rel="prefetch" href="/assets/js/83.d0cb49b7.js"><link rel="prefetch" href="/assets/js/84.91c35083.js"><link rel="prefetch" href="/assets/js/85.87bd3868.js"><link rel="prefetch" href="/assets/js/86.3eeefbe5.js"><link rel="prefetch" href="/assets/js/87.adb7ff8f.js"><link rel="prefetch" href="/assets/js/88.ba8b9c02.js"><link rel="prefetch" href="/assets/js/89.83b8e50a.js"><link rel="prefetch" href="/assets/js/9.89db3fc3.js"><link rel="prefetch" href="/assets/js/90.714b166b.js"><link rel="prefetch" href="/assets/js/91.384aea50.js"><link rel="prefetch" href="/assets/js/92.7fc1bda2.js"><link rel="prefetch" href="/assets/js/93.141fc4c7.js"><link rel="prefetch" href="/assets/js/94.64404f7b.js"><link rel="prefetch" href="/assets/js/95.52c3d340.js"><link rel="prefetch" href="/assets/js/96.f77bd955.js"><link rel="prefetch" href="/assets/js/97.68786499.js"><link rel="prefetch" href="/assets/js/98.ca51eed5.js"><link rel="prefetch" href="/assets/js/99.322dd980.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.d9f62a04.js">
    <link rel="stylesheet" href="/assets/css/0.styles.aa9b5622.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Huawei LiteOS | 中文网</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>入门</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/quick-start/intro/" class="nav-link">快速上手</a></li><li class="dropdown-subitem"><a href="/quick-start/contrb/" class="nav-link">参与贡献</a></li></ul></li><li class="dropdown-item"><h4>进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/kernel/" class="nav-link">内核指南</a></li><li class="dropdown-subitem"><a href="/sdk/" class="nav-link router-link-active">SDK 指南</a></li></ul></li><li class="dropdown-item"><h4>高级</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/porting/" class="nav-link">移植手册</a></li><li class="dropdown-subitem"><a href="http://liteos.github.io/api-reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API 参考
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">实战</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>LiteOS 动手实验室</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorials/kernel/" class="nav-link">玩转 LiteOS 内核教程</a></li><li class="dropdown-subitem"><a href="/tutorials/scene/" class="nav-link">LiteOS@NB-IoT 场景化样例集</a></li></ul></li><li class="dropdown-item"><h4>LiteOS 实战训练营材料</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/workshop/hangzhou/" class="nav-link">Workshop-杭州站</a></li></ul></li><li class="dropdown-item"><h4>在线精品课程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://developer.huawei.com/ict/cn/edu-online/site-iot-nb-01" target="_blank" rel="noopener noreferrer" class="nav-link external">
  朱老师物联网大讲堂 NB-IoT 系列课程
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://developer.huawei.com/ict/cn/edu-online/site-iot-nb-002" target="_blank" rel="noopener noreferrer" class="nav-link external">
  物联网俱乐部 NB-IoT 系列课程
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://developer.huawei.com/ict/forum/forum.php?mod=forumdisplay&amp;fid=400045" target="_blank" rel="noopener noreferrer" class="nav-link external">
  论坛
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/changelog.html" class="nav-link">修订记录</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">切换语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/sdk/sdk-oceanconnect.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/LiteOS/LiteOS_Documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>入门</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/quick-start/intro/" class="nav-link">快速上手</a></li><li class="dropdown-subitem"><a href="/quick-start/contrb/" class="nav-link">参与贡献</a></li></ul></li><li class="dropdown-item"><h4>进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/kernel/" class="nav-link">内核指南</a></li><li class="dropdown-subitem"><a href="/sdk/" class="nav-link router-link-active">SDK 指南</a></li></ul></li><li class="dropdown-item"><h4>高级</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/porting/" class="nav-link">移植手册</a></li><li class="dropdown-subitem"><a href="http://liteos.github.io/api-reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API 参考
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">实战</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>LiteOS 动手实验室</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorials/kernel/" class="nav-link">玩转 LiteOS 内核教程</a></li><li class="dropdown-subitem"><a href="/tutorials/scene/" class="nav-link">LiteOS@NB-IoT 场景化样例集</a></li></ul></li><li class="dropdown-item"><h4>LiteOS 实战训练营材料</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/workshop/hangzhou/" class="nav-link">Workshop-杭州站</a></li></ul></li><li class="dropdown-item"><h4>在线精品课程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://developer.huawei.com/ict/cn/edu-online/site-iot-nb-01" target="_blank" rel="noopener noreferrer" class="nav-link external">
  朱老师物联网大讲堂 NB-IoT 系列课程
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://developer.huawei.com/ict/cn/edu-online/site-iot-nb-002" target="_blank" rel="noopener noreferrer" class="nav-link external">
  物联网俱乐部 NB-IoT 系列课程
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://developer.huawei.com/ict/forum/forum.php?mod=forumdisplay&amp;fid=400045" target="_blank" rel="noopener noreferrer" class="nav-link external">
  论坛
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/changelog.html" class="nav-link">修订记录</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">切换语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/sdk/sdk-oceanconnect.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/LiteOS/LiteOS_Documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>端云互通</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/sdk/" class="sidebar-link">LiteOS SDK 介绍</a></li><li><a href="/sdk/sdk-overview.html" class="sidebar-link">LiteOS SDK端云互通组件介绍</a></li><li><a href="/sdk/sdk-apis.html" class="sidebar-link">LiteOS SDK 端云互通组件 API</a></li><li><a href="/sdk/sdk-oceanconnect.html" class="active sidebar-link">设备接入OceanConnect集成开发流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/sdk/sdk-oceanconnect.html#环境准备" class="sidebar-link">环境准备</a></li><li class="sidebar-sub-header"><a href="/sdk/sdk-oceanconnect.html#创建应用" class="sidebar-link">创建应用</a></li><li class="sidebar-sub-header"><a href="/sdk/sdk-oceanconnect.html#开发profile文件" class="sidebar-link">开发Profile文件</a></li><li class="sidebar-sub-header"><a href="/sdk/sdk-oceanconnect.html#开发编解码插件" class="sidebar-link">开发编解码插件</a></li><li class="sidebar-sub-header"><a href="/sdk/sdk-oceanconnect.html#注册设备" class="sidebar-link">注册设备</a></li><li class="sidebar-sub-header"><a href="/sdk/sdk-oceanconnect.html#端云互通组件设备接入平台" class="sidebar-link">端云互通组件设备接入平台</a></li><li class="sidebar-sub-header"><a href="/sdk/sdk-oceanconnect.html#（参考）端云互通组件无线接入开发指南" class="sidebar-link">（参考）端云互通组件无线接入开发指南</a></li><li class="sidebar-sub-header"><a href="/sdk/sdk-oceanconnect.html#（参考）设备模拟器接入平台" class="sidebar-link">（参考）设备模拟器接入平台</a></li></ul></li><li><a href="/sdk/sdk-lwm2m.html" class="sidebar-link">附录 LwM2M 协议介绍</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>LPWA 增强</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/sdk/device-pnp.html" class="sidebar-link">Device PnP</a></li><li><a href="/sdk/dtls-plus.html" class="sidebar-link">DTLS+</a></li><li><a href="/sdk/difference-upgrade.html" class="sidebar-link">差分升级</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="设备接入oceanconnect集成开发流程"><a href="#设备接入oceanconnect集成开发流程" aria-hidden="true" class="header-anchor">#</a> 设备接入OceanConnect集成开发流程</h1> <p>本章内容旨在帮助开发者在IoT设备上集成LiteOS
SDK端云互通组件，进行IoT应用开发和调测。LiteOS
SDK端云互通组件接入华为OceanConnect
IoT云平台默认采用的是以太网方式（即以太网口驱动+LwIP网络协议栈+LwM2M协议+LiteOS
SDK端云互通组件对接云平台）。</p> <p>OceanConnect即华为IoT联接管理平台（IoT Connection Management
Platform）是面向运营商和企业/行业领域的统一开放云平台，支持SIM和非SIM场景的各种联接和联接管理。通过开放的APIs，向上集成各种行业应用，向下接入各种传感器、终端和网关，帮助运营商和企业/行业客户实现多种行业终端的快速接入，多种行业应用的快速集成。华为IoT联接管理平台提供安全可控的全联接管理，使能行业革新，构建IoT生态（本章中提到的IoT平台指OceanConnect）。</p> <h2 id="环境准备"><a href="#环境准备" aria-hidden="true" class="header-anchor">#</a> 环境准备</h2> <p>在开发之前，需要提前获取如下信息：</p> <ul><li>Huawei LiteOS及LiteOS SDK源代码</li></ul> <blockquote><p>目前托管在GitHub，地址为<a href="https://github.com/LiteOS/LiteOS" target="_blank" rel="noopener noreferrer">https://github.com/LiteOS/LiteOS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <ul><li>开发者Portal的访问地址/账号/密码</li></ul> <blockquote><p>需要向OceanConnect IoT平台申请。</p></blockquote> <ul><li>设备对接地址/端口号</li></ul> <h2 id="创建应用"><a href="#创建应用" aria-hidden="true" class="header-anchor">#</a> 创建应用</h2> <p>通过创建应用，开发者可以根据自身应用的特征，选择不同的平台服务套件，降低应用开发难度。</p> <ul><li><p><strong>步骤1</strong> 登录OceanConnect IoT平台的开发者Portal。开发者Portal的访问地址、账号和密码需要向IoT平台服务商申请。</p></li> <li><p><strong>步骤2</strong> 登录界面会跳出弹框，提示“当前账号没有应用！请先创建应用！”，点击“创建应用”。</p></li></ul> <p><strong>创建应用</strong></p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZcAAADNCAIAAAGMYZrpAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABhBSURBVHhe7Z3Nb+NGmsb1P/V/4YsuCRa7kwX6tofWxZfk3hddnMCAgXR6Mp6TGzo4QA8cGIvEMOK9jHIYJJABzYyBSRuQ2pY/+8M2xuoPR/tWvS9LRYqiVCLLIsXnh7JcVawqll49fETKdKny7v37QS6pyO/8gZm5U6iZLa12JDdXojP7Zu+15OLgSS/vXm2fqTwXOaPy7eO17J5VdGa8szwQndnJ24+SmzcxOvvk6y49/uXXKy7Oi5iZxdOsVyrVXqNKuUq9Xm8OKhXpqzM9zmfI1DOjqTUlR3n6oQkxtIVrs2X6md03mJk7mJk7CzEz8/44Lkm7jHCeGWVafXWC3ml3Bpc315c3CTPbqtUG51sPHjyQsgsLEbN7BjNzBzNzBzNzBzNzp4AzS3i3OdlVF1e+iZ/Z55un9Dg6ubU2PVzRzLbX1RtlS9pccUue8dK66puepJltNN9wcS7Ez+y3M3Wek/CC3gMxM6s9U5e1850WMfYIiKAueasNzlcrdL1e4avyqtow7SBOTD9os9ELrsvrTXp4oidFG/gxc7wMmgmYmTuYmTvFnxkZb3KSdpM4ODiQ3CScZ3bdv6PidfdVp39Lj3S9njCzlX26RK/Z1+geZzYuSbtJZD+z+wczcwczcye/M8stCJkzCJkzCJkzDiGjq2M6n9h/2ZdyWZkcstjTrkcb8X8zX1o9Xtq8WN6N3BhwRTUnu13aRIUTXdXalGGpuL2u8gmfewUfLc35fgNmQsgi8eLPrZiH60eSG4/+pE3R2u2qiLSPpWyFbHAmY0pArcC15HeRQ2Yz/Un/gjHjgVnaeBEO9g+YzEOmPh6tWLc0BTSrqlZv1Z+Z6juy1Me9utrLnU6egMqcQcicQcicQcicQcicQcicyT5kdJabMslAGTH9Hxym5J5CxrdoEtfdV1Qc6Ls0uWYwkL8GmSTVk3igqOnMCtfEUryQddoUrzsdMonaTrCJMteXN+YPaCZxs4lQwFb2B/Sz8mBFhy/+RtiiqswpyUAZUYCQLTwImTMImTMImTMImTMImTMImTMImTMImTMImTMImTMImTMImTMImTPThuzZz2+XVjuPvz+XcomZHLKvfry0b/hpdfuZf6RVLCaEbKd9c93/XQoWSVELbn4yrLX5bid9q5N1v5TCvn1Kfg/WVof3S5m1hWiEJat+jkwImR0aO09ak1wcy7vqfzUpba93KC8h06Hkek6mqNZi2rzg/IkOGYWP79wLhywc7jnhYP/8JA2Pt8b6mgqZur9O3WKn7mhsH7OCjI4YvgcvEgiKlA7fMQswuBmPQxaawLyYPWQ5eQL3z4SQJazYNd9/W54jDl5m+9cX30U9vjxMPjD5P7tt6D30yx8upVA+pvIy0po5QilPZx6cLycO9g+YjENmboU18G2z+qGnb5DVBIsiEFJTqTeyX7HQC1mGrK4XhSAoT8FpVKuUoeg0qhUVsl6j0eupzfUm339MbehRbdELSozekpxPsgwZPWteuYJjwZIKdKUquYag8HFGL5JJIesVJ2LwMncQMmcQMmcQMmcQMmcQMmcQMmcQMmcQMmcQMmcQMmcQMmeyD9mS9We3GZKMkmMQMme8h2zQv6XHncvBTlet/RfaFNt+aob/tLS/slVbWdmXkm/8hmznUoVJ/V9c+/1oyGKTaj81NY6T/vKDBQmZnTgYS6s3rf4dhXJpVf2X4WjSrabhXIVoX/9b4aKGbMoko+QYhMyZ7EO28CBkziBkziBkziBkziBkziBkziBkziBkziBkziBkwDsQGfAORAa8A5EB70BkwDsQGfAORAa8A5EB70BkwDuZiey6/7u5A+XzzdON5pvHW+cP14+45qsfy/tf+yADkfH3GP52JivSj+PRhmomhSlYC5az4dVtBoOL4ao3Z6dqNZzBYFmvDKRR6wkRS+unwXfRXS1zx/YxC90k3iqZM7UajlUvJKwqZBYfYqhoRpCkltq5/VsLx5WQVmQU07/+699SmAJq77oWSSAywWiOVMVfDakFp0Sm1mQaiiygfRwIUcFfk3iitKW+PpGlGUYWtjIpWNiqy/LiR9oLi36MyOiZ5mK9sDyQSmQU0Oe/xH9PJW2y19OzoU0TbY8gl5LXLEjsXuNFJoujscgsaaovMZWshRjS2en2mfptW5ctaxqNRbasGuihdBfTZnSeLLJHz7HwopBWZJIbgTaNExmdqyV0FKx3MZOGItNblZHot0KtElHS9nqXvIpdxOiD0JU6aXGwD5HOhvrTY3LWCIi7qJyyQ1ntz04saIb1TZVx7lhqfIksARLfuO9TBgtJKpHRxePoCnAM6S/h7VJyoBykPfH/5Ovup0+mPcOlUzFSWOxavmCBSSsygj8hS5bazt/VNxOO8zaw2GQgMsPJ24/m01c7fbP3WlqAUpKlyLJFLfhZ5eUZBVXbrNM5IC/XaNGrNnp6ydBmUy97qesavAokE17XsWkXq7zWqB5ZFVX3XlHWGi0E+RWZWV7VYF73iMh4RVq9pKglMsqQ8gJYVdRSN+6polahahYjssFziCw7ci2yekNWmlUE5sOS4iV9WRlcQ3ATVgmZoNKdhWhroNa5JcyA8jskstt/4B0+O/IrMrAwQGTAOxAZ8A5EBrwDkQHvQGTAOxAZ8A5EBrwDkQHvQGTAOxAZ8A5EBrxTAJFF7k675/TZty9lHolcXcX8Q9T9cHh4KLm8ApFNTjKPvHJwcCC5vAKRTU4yj7wCkWVA5CWPpI761qtXrb3O4PKm1Vf/qDLo39q6eDqiEmpz3VXfVnR9qf7zgHslJOmWHVu1Gj2u7Kukvu0o+C/grZr6ei1KUp4OiCwDIi95JHXa8sgie9q9W9q73TELIegvXqOtpCqqXFq92dG9ZKswN5Gdb9VYUpThr9ZinL5gCyLLgMhLHknchjR0Tb/6Sl6mkmn170h5UtBwG0rkZNyLi+MS98ocEpNkVvaVrNjRtNSMt00DRJYBkZf8/pPMI69AZBkQecnvOX32pyOZRyI3NzeSu3fwEQYAEBnwD0QGvAORAe9AZMA7EBnwDkQGvAORAe9AZMA7EBnwCxQG/AKFAb9AYcAvUBjwCxQG/AKFAb9AYcAvUBjwCxQG/AKFAb9AYcAvUBjwCxQG/AKFAb9AYcAvUBjwCxQG/JKxwvZf9h9/f87rQdSe9Z79/FY2gLKSmcK++vGShfVw/ejx1vlG883nm6dcQ+m6/7u0AyUjG4WxjFrdvpTDsNRIglL2zNLmheRADshAYaSeRxsTvnP7tzO1HOEX351KeTIXLf3rZLerfw/WVo85Qyzzol9np2u7smj09rqqocYngcKohvIEq9+kZd3lZPeYm9FQXL/W1q2Z9jHvPY6LsIIvzMgm0X5P/nl+En+4lY60CqOATpQXQ2+U1HinPe0qXCQXeplZYSKp8ZCeWpsdozAWHLO0HpI1K8wQbL2yFbZkqTngYvtMcmEupGP7mAXNc6AJjGlfOlIp7Msf1LmXFKaA5OXUnmCFGUxxTY2jZEHComJEYdyGiVUYdScFxE6GNlH9MEl3UhiLSSQVqDDew2gyUBiTSmEUzdhzLz7xkkIYqv9m77UUXGAlkYb4VdTjj1XY8ioL8co0DiexKHu0Jd2FxglX2goTVemawLrGeBg9jn+fLRezK4y0RS+AFMIkKOz5L+pVl0ICZ8PrUJOoml453j7qYSwOVphpRlC95EKIMliLtiDsvoQo7OyUGvBQ1IV3qoibp5La4ck7blB6ZlfY463zh+vxK6AmKIxI2JSA8TAuaoUpzItNUhCP0e+ScedSCt46lIg+ybP9JlZhXGmEaAancdi6Rs/DApMrO7MrjIRCIpNCmPQKM5d4dqJ6fqX1Vi0mlVE1gVFd8dkVnwMFb3AKexBdpO7qFIqLhBpTi88ojNRDDVgoNBTtwgzCiU7puItCK4zrpQZoUilso/lGCmF8eBgoKLMr7NFGj5QkBRegsFIxu8LIwGbQCn/0KgVQAmZXGDFOKwnvkrVnvXHXB2AhSauw2D8EkVGN+xsldTl5+1EKoASkUhj/IYj0JOVJfPqk+8nXoc8CwMKTSmEE/+Fomptz6P1x3FsnWGDSKozgs66dvyf9SZvca0ohggUjA4UR/CdtSn/5NXTnAp1ysXXhzbG0ZKMw5pu916wzO9GVI07ty0yWCgNglLwqrFlvDnoVi2pD3edIv+iR84ZGtdKsV6iqXqkPeo2mrqxWqlRp0HUCVUuO6MlYPDJ3b1Srug5kQK49TNShISH0GlVWg60wIxfaahRGmqMa6cmQgJr1kDCZXkMaBEBh2ZJbhTWbtgUR7DGakIcFuqFK28NIcFEPI1/UGmX9kclxO+5ue1iz/h+6DmRAjhWm/ckg1VSpFBToghCF9ajeKKxaqddJMlXpS3BLelDq1F1EprqSCCtMKkF6cqywXmNUYcEbpSjMfu8jx1K/2MOobzP0LklFti5Snt4u74PSK6yw3q8/6TqQAXlVmLYWVgPrjDL0Tqk2aXSd0g015TwVhi31Bl0KqD6hOsvUNPWmecMlhbHncRFkBQIK/AKFAb9AYcAvUBjwCxQG/AKFAb9AYcAvUBjwCxQG/AKFAb9AYcAvUBjwCxQG/AKFAb9AYcAvUBjwCxQG/AKFAb9AYcAvUBjwCxQG/AKFAb9AYcAvUBjwS94V9odvjyILkt1zknkk8uLFC8ndOzc3036b4rzIu8Iir/f9J5lHIgcHB5IDI0BhE5LMIxEoLAEobEKSeSQChSUAhU1IMo9EoLAECq+wncvBU8m/2mFB9G91V8WwZVt9nxKnp9072ayhXmbTaJJGiTgpbH/lATP86sT9lf3BoKbK55Q536pJ/UJQdIXdkLxa/TstIKUwyjxdtS6v+rcRPV13X1GN6rt3q0fQvcYn6ZaIo4edk5ZIRqykrZrRE8mL00JRbIV1LkU9nUtRmCqEPUz0pLXITpYThdEPFWrKvwYPVvZrYm0K3WxBKLbCWCv0Rmk8rNPuXF8OPYxUpd5GdTNyr85AFCabNXNT2GCwsi+ORW+RUNh8iLzekRT406vWnnokrZCedqx3SRKcVhU36MhjX+lsXh62paS0wgoLxLSvzsO0thhduSAU/DysLV8LR3KhR3IsPs3iSsVln1QleebyhmSn+pLCgl6hMcOJOyXj6GEKUhi9M3KG1Var6TdNJTBzZrYIFP1M33uSeSQyg8LKAxQ2Ick8EoHCEoDCJiSZRyJQWAJ5V9gfvn0ZecnvOck8Ejk8PJTcvYN7K0DZgcKAX6Aw4BcoDPgFCgN+gcKAX6Aw4BcoDPgFCgN+gcKAX6Aw4BcoDPgFCgN+gcKAX6Aw4BcoDPgFCgN+gcKAX6Aw4BcoDABQbOBiAIBiAxcDABQbuBgAoNjAxQAAxQYuBgAoNnAxAECxgYsBAIoNXAwAUGzgYgCAYgMXAwAUG7gYAKDYwMUAAMUGLgYAKDZwMQBAsYGLAQCKDVwMAFBs4GIAgGKTUxc7efvx6f+9fvjno6XVzsREzagxdZHOAIAykS8X22nffPqka+zp0Ubv+S9XCfZEm6gBNTNdqDsNIpsBACUgFy523f/9i+9O2YY++br713/9WzY4Qv5F3XkcGpCGlQ0+OdntLm1eSGE8rc3O8u6VFJiz0+X10xMpMFfb62LHknSDkV1crEU7Tokaf60tBXdU9+izmEj7mJ8FAJ6Yv4t99eMlH7Gfb2bjOzSIOTujwaU2O5SnrB63pBSxmIs12u/m6cmZKuiWliUlJzVIyGVU96iLaZuLmGaiTcS752p3W89Q54fPJWpzNHJkkglJZqUjMEUK9qLah4x15OmYOMjTN5MHQDNPFyO74etHOoH67ey91GYEDcjnZbQLHydlxh2MxcT4xRgj0wft0C+sjlLJNREXMzuKMslrzKyiIygLCzuInox0HGk5+uziIFcKu0zEKKM7hYuBtMzNxU7efuSjhU7BpGoSZEz7L/uUprc8Gpz3ktVn/8ODPDGNNY7hQTuti22P22Oso02BegoOfdk4xnaxLIYRF7P2okYwARnZu5OLDf6xRZM5+pvOA8DMzcX474906SflKTCWNL3xEXx1SbuTsn8sV5rdxejRHL3BIMMuUUaO/ATG+QujtgZDmYmNPIshtsUozJmXygQnTepsUVeazBBxvSGJLjZoHU3/TEFJmI+LbTTfsB85nSLN5mLmpI92KlWesVxJH4F673Ya72KMcroxH72NnLkouP34ZB/2oz6iatSYyr+iFiPEPothiowfFNWAoWnHTT52PmGfiholAGHm42K1Z+r8yMmMiNlcjOCOtFMpeybqYqGzmNEjOXJCFHI3PnplEDq70cUEuxkhfPoW/UzK2FNwDajyMSOPPIsh4U3h3YWxTC1gZD6KWBeTjmp8muS4XYByMh8X00eL88nRzC5mTv2k7BnbxZwYYxYRm8stSRYGgD/m6WKPt86lPB3f7L0m/6JEGamaDtrRfboYAOA+mY+L8VnVvX3izn9JcDVNAEAhmI+Ltbp9Pjl6/ovDhdJsV5S0C+6V+S1pAIA8MB8XI+iqkM2FHE2qJjGDixm7dL0IBQAUhbm5GPHlD/K/R57+f5uG5fFpR1IFAFg45ulihDGa2rNehv8nREPxzRyUsMQFAIvNnF2MMZeKZD0pP72i7sa/nD4+AwAUlFy4GGMuMCl98d3p9J+XEdTYrO1DCZeQAJSHHLkYQxeDtp1xevjnIzKpx9+fP/v5LSXKUJHvn7ATdfSxfAUAIM/kzsUi0BXiRvPN461ze0FXSlSkStqE+ycAKDl5d7Gc0WtU603JG6iyMlqradYr1Yb+901qJLmxUONKzEDB8Op3gDXUcBcJJEwxNG4843oCkAvgYs6M+NE4i5hkD8M+qqUZU3ejbWRPukVoeOV04X0ZFwtPQ1tiMrJH6mc/n4grDkeNtAMgL8DFHAicIWwjEfsQImYw1gOoXb0edRzdUm1Ro5rhg90T1lBmR+FpRPYf2qgKw42RmY3t+Pp//8feAEBegIu5EphL9HBXmENeZaZA+odHCnYQ/A4GNYObGWhipqGQRsOtlJNukR6T5yp7a9at3QKQG+Birog9jJiBwhiNBdWZZnbegkdSNqORJsGOhoPqHJ24hcaImQYx3JPZrnpXG039aLWPziky3nDvg95PPx3qDAC5Ai7miDqqCTqwY+zDOuQJbjos6xqrS2BTIyOFy9agtEEYbo+ZRmydJjxBYqQi2nfYYLQpALkALgYAKDZwMQBAsYGLAQCKDVwMAFBs4GIAgGIDFwMAFBu4GACg2MDFAADFBi4GACg2cDEAQLGBiwEAig1cDABQbOBiAIBiAxcDABQbuBgAoNjAxQAAxQYuBgAoNnAxAECxgYsBAIoNXAwAUGzgYgCAYgMXAwAUG7gYAKDYwMUAAMUGLpaWs+u7//7T0dJqp4Tps/Xj06s7CURq3r179+LFi4OScXh4+OHDBwkBmAm4WFoiB3YJkwQiNXRIS65klPaJZwVcLC2RQ7qESQKRGrgYmA24WFoih3QJkwQiNXAxMBtwsbREDukSJglEauBiYDbgYmmJHNLe097tdf/2aaRyrkkCkRq4GJgNuFhaIoe0c2q/H/Rvd7p3191XUry8WVp91eq/3wnaPDVbKRkXa78fVobSTWdw19qLVI4MovbCm0L7miFJIFLj82A+36rVts4lt7K/v/LARjYNBlSv8rpN0JZ/myYegIulBC6Wlsgh7ZLIbiz7IGehYtTFwm242YiLkUN12labuERtZMYxlMHFxLEI5Uz7K4EvSU4MLETgYp6Bi6UELpaWyCHtlGz3kXzcuZjyMnMVGXdFqfuaUzDqK+diO5eD6PjcpYznYmJhhH2eFWNUVHW/fgYXSwlcLC2RQ9opaWchE+GRtJVEXEx7Fl1vhgxoxMV2LrVtWadpapDwJaftaKV0MXIm60JSeZIq2n5FZTE2uFihgIulJXJIO6XQ+ZF9wmU5C7mPIuFcTIzPqqEU8indxu5VOhcbwn5Ej2xgKsP+ZMzLZCy4lyfgYimBi6UlckiXMEkgUlPagxkulhK4WFoih3QJkwQiNXAxMBtwsbREDukSJglEauBiYDbgYmmJHNIlTBKI1MDFwGzAxdLSff3xP/9Y0pV5/uuPLzuvPkogUvPhw4fDw0M6pEsFVuZJD1wMAFBs4GIAgGIDFwMAFBu4GACg2MDFAADFBi4GACg2cDEAQLGBiwEAig1cDABQbOBiAIBiAxcDABQbuBgAoNjAxQAAxQYuBgAoNnAxAECxgYsBAIoNXAwAUGzgYgCAIjMY/D8K+ysiNRVcLAAAAABJRU5ErkJggg==" alt></p> <ul><li><strong>步骤3</strong> 在新弹出窗口中，配置应用信息，点击“确定”。</li></ul> <p>配置示例如下图，点击“确定”后，IoT平台会返回应用ID和应用密钥，请妥善保存应用密钥，以便于应用服务器接入平台时使用。如果遗忘密钥，需要通过“对接信息”-&gt;&quot;重置密钥”进行重置。</p> <p><strong>配置应用</strong></p> <p><img src="/assets/img/15.1934102a.png" alt></p> <p><img src="data:image/gif;base64,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" alt></p> <p>如上配置仅为参考举例，具体配置请以现网需求为准。</p> <p><strong>应用创建成功</strong></p> <p><img src="/assets/img/16.a7dfb128.png" alt></p> <p>----<strong>结束</strong></p> <h2 id="开发profile文件"><a href="#开发profile文件" aria-hidden="true" class="header-anchor">#</a> 开发Profile文件</h2> <p>Profile文件用来描述设备类型和设备服务能力。它定义了设备具备的服务能力，每个服务具备的属性、命令以及命令参数。</p> <ul><li><p><strong>步骤1</strong> 登录IoT平台的开发者Portal。开发者Portal的访问地址、账号和密码需要向IoT平台服务商申请。</p></li> <li><p><strong>步骤2</strong> 选择“Profile开发”-&gt;“Profile在线开发”-&gt;“自定义产品”，点击右上角“+创建全新产品”。</p></li></ul> <p>IoT平台提供了Profile模板库，开发者可以根据自己需要，选择合适的模板直接使用。如果在模板库中未找到需要的Profile，再自己定义，示例如下。</p> <p><strong>创建Profile文件</strong></p> <p><img src="/assets/img/17.1e9e1fc7.png" alt></p> <p><img src="data:image/gif;base64,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" alt></p> <p>如上配置仅为参考举例，具体配置请以现网需求为准。</p> <ul><li><strong>步骤3</strong> 选择新创建的Profile文件，点击“新建服务”，配置设备的服务能力。</li></ul> <p>可参考“Profile开发”-&gt;“Profile在线开发”中的“产品模板”进行配置。例如新建一个名为LightControl的服务，包含一种属性light（灯的亮灭状态）和一种命令（设置灯亮on或者灭off）</p> <p><strong>新建LightControl服务</strong></p> <p><img src="/assets/img/18.3efcde55.png" alt></p> <ul><li><strong>步骤4</strong> （可选）开发者Portal提供了Profile文件的导出功能。</li></ul> <p>选择“Profile开发”-&gt;“Profile在线开发”-&gt;新创建的Profile文件，点击右上角“导出该产品Profile”，可以对线上开发的Profile文件进行导出。</p> <p><strong>导出Profile文件</strong></p> <p><img src="/assets/img/19.ac35ce89.png" alt></p> <p>----<strong>结束</strong></p> <h2 id="开发编解码插件"><a href="#开发编解码插件" aria-hidden="true" class="header-anchor">#</a> 开发编解码插件</h2> <p>IoT设备和IoT平台之间采用LwM2M协议通信，LwM2M消息的数据为应用层数据，应用层数据的格式由设备厂商自行定义。由于IoT设备对省电要求较高，所以应用层数据一般采用二进制格式。IoT平台在对应用层数据进行协议解析时，会转换成统一的json格式，以方便应用服务器使用。要实现二进制消息与json格式消息的转换，IoT平台需要使用编解码插件。</p> <ul><li><strong>步骤1</strong> 选择“插件开发”-&gt;“插件开发”-&gt;“开始设计”，点击右上角“+新建插件”。在弹出框中，选择Profile文件。</li></ul> <p>IoT平台提供了插件模板库，开发者可以根据自己需要，选择合适的模板直接使用。如果在模板库中未找到需要的插件，再自己定义。</p> <p><strong>创建插件</strong></p> <p><img src="/assets/img/20.aecd7b2d.png" alt></p> <ul><li><strong>步骤2</strong> 点击“新增消息”，配置二进制码流和Profile属性/命令/命令响应的映射关系。</li></ul> <p>可参考“插件开发”-&gt;“插件开发”-&gt;“开始设计”中的“新手指导”和“插件模板”进行配置。</p> <p><strong>开发插件（新建消息）</strong></p> <p><img src="/assets/img/21.9b3448f9.png" alt></p> <p><strong>开发插件（添加字段）</strong></p> <p><img src="/assets/img/22.d4fcd364.png" alt></p> <p>编解码插件的开发，即定义：</p> <ul><li><p><strong>Profile</strong> 文件定义的属性/响应在设备上报的二进制码流中的位置，以便于平台对设备上报数据和命令响应进行解码。</p></li> <li><p><strong>Profile</strong> 文件定义的命令在平台下发的二进制码流中的位置，以便于平台对下发命令进行编码。</p></li></ul> <p><strong>二进制码流和Profile文件的映射关系</strong></p> <p><img src="/assets/img/23.71677c66.png" alt></p> <ul><li><strong>步骤3</strong> 点击右上角“部署”。</li></ul> <p>点击部署后，需要先“保存”插件，之后才开始部署。部署需要等待时间小于60s。</p> <p><strong>保存插件</strong></p> <p><img src="/assets/img/24.ce287fdb.png" alt></p> <p><strong>部署插件</strong></p> <p><img src="/assets/img/25.345b9607.png" alt></p> <ul><li><strong>步骤4</strong> （可选）开发者Portal提供了编解码插件的下载功能。</li></ul> <p>选择“插件开发”-&gt;“插件开发”-&gt;新开发的编解码插件，点击右上角“下载”，可以对线上开发的编解码插件进行导出。</p> <p>----<strong>结束</strong></p> <h2 id="注册设备"><a href="#注册设备" aria-hidden="true" class="header-anchor">#</a> 注册设备</h2> <p>应用服务器需要调用IoT平台的注册设备接口，在IoT平台添加设备。</p> <p>IoT平台提供了应用模拟器，可以模拟应用服务器在IoT平台注册设备的场景。使用应用模拟器注册设备时，需要选择注册设备的Profile，以实现注册设备和Profile文件的关联。因此，通过应用模拟器注册设备，实际模拟了应用服务器在IoT平台<strong>注册设备</strong>和<strong>修改设备信息</strong>两个过程。本节基于应用模拟器进行操作。</p> <ul><li><strong>步骤1</strong> 选择“我的设备”-&gt;“注册设备”-&gt;“需要注册设备的Profile”，输入设备名称和验证码（verifyCode），点击“注册”。</li></ul> <p>注册设备后，IoT平台会返回设备ID和PSK码，请妥善保存。新增注册的设备状态为“未绑定（not
bound）”。</p> <p><strong>注册设备</strong></p> <p><img src="/assets/img/26.510b8bd4.png" alt></p> <p>----<strong>结束</strong></p> <h2 id="端云互通组件设备接入平台"><a href="#端云互通组件设备接入平台" aria-hidden="true" class="header-anchor">#</a> 端云互通组件设备接入平台</h2> <p>设备接入IoT平台后，IoT平台才可以对设备进行管理。设备接入平台时，需要保证IoT平台已经有对应应用，并且已经在该应用下注册了此设备。</p> <h4 id="_5-6-1开发环境准备"><a href="#_5-6-1开发环境准备" aria-hidden="true" class="header-anchor">#</a> 5.6.1开发环境准备</h4> <ul><li><p>集成开发工具：</p> <ul><li><p>MDK 5.18版本或者以上版本，从MDK官方网站下载。</p></li> <li><p>MDK依赖的pack包</p></li></ul></li></ul> <blockquote><p>说明：MDK工具需要license，请从MDK官方获取。</p></blockquote> <ul><li><p>LiteOS SDK端云互通组件代码：</p> <p>git clone https://github.com/LiteOS/LiteOS.git</p></li> <li><p>硬件设备：野火STM32F429开发板，调试下载器（J-Link、ST-Link等）、网线、路由器。</p></li></ul> <h4 id="_5-6-2开发板硬件介绍"><a href="#_5-6-2开发板硬件介绍" aria-hidden="true" class="header-anchor">#</a> 5.6.2开发板硬件介绍</h4> <p>本文档以野火STM32F429IG开发板为例进行介绍，板子的详细资料可以从<a href="http://www.firebbs.cn/forum.php" target="_blank" rel="noopener noreferrer">http://www.firebbs.cn/forum.php<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>下载。</p> <p><strong>STM32F429IG_FIRE开发板外设</strong></p> <p><img src="/assets/img/27.5c2feae7.png" alt></p> <h4 id="_5-6-3端云互通组件代码目录介绍"><a href="#_5-6-3端云互通组件代码目录介绍" aria-hidden="true" class="header-anchor">#</a> 5.6.3端云互通组件代码目录介绍</h4> <table><thead><tr><th>代码目录</th> <th>功能</th></tr></thead> <tbody><tr><td><a href="https://github.com/LiteOS/LiteOS" target="_blank" rel="noopener noreferrer">LiteOS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components" target="_blank" rel="noopener noreferrer">components<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components/connectivity" target="_blank" rel="noopener noreferrer">connectivity<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components/connectivity/agent_tiny" target="_blank" rel="noopener noreferrer">agent_tiny<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components/connectivity/agent_tiny/Lwm2m_client" target="_blank" rel="noopener noreferrer">Lwm2m_client<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/</td> <td>端云互通组件实体</td></tr> <tr><td><a href="https://github.com/LiteOS/LiteOS" target="_blank" rel="noopener noreferrer">LiteOS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components" target="_blank" rel="noopener noreferrer">components<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components/connectivity" target="_blank" rel="noopener noreferrer">connectivity<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components/connectivity/agent_tiny" target="_blank" rel="noopener noreferrer">agent_tiny<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components/connectivity/agent_tiny/examples" target="_blank" rel="noopener noreferrer">examples<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/</td> <td>端云互通组件demo，包括用户需要实现的接口</td></tr> <tr><td><a href="https://github.com/LiteOS/LiteOS" target="_blank" rel="noopener noreferrer">LiteOS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components" target="_blank" rel="noopener noreferrer">components<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components/connectivity" target="_blank" rel="noopener noreferrer">connectivity<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components/connectivity/agent_tiny" target="_blank" rel="noopener noreferrer">agent_tiny<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components/connectivity/agent_tiny/osadapter" target="_blank" rel="noopener noreferrer">osadapter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/</td> <td>端云互通组件操作系统适配接口</td></tr> <tr><td><a href="https://github.com/LiteOS/LiteOS/tree/develop" target="_blank" rel="noopener noreferrer">LiteOS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/components" target="_blank" rel="noopener noreferrer">components<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/components/connectivity" target="_blank" rel="noopener noreferrer">connectivity<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/components/connectivity/at_frame" target="_blank" rel="noopener noreferrer">at_frame<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/</td> <td>串口AT框架</td></tr> <tr><td><a href="https://github.com/LiteOS/LiteOS" target="_blank" rel="noopener noreferrer">LiteOS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components" target="_blank" rel="noopener noreferrer">components<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components/connectivity" target="_blank" rel="noopener noreferrer">connectivity<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/master/components/connectivity/lwm2m" target="_blank" rel="noopener noreferrer">lwm2m<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/</td> <td>LwM2M协议</td></tr> <tr><td><a href="https://github.com/LiteOS/LiteOS/tree/develop" target="_blank" rel="noopener noreferrer">LiteOS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/components" target="_blank" rel="noopener noreferrer">components<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/components/fota" target="_blank" rel="noopener noreferrer">fota<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/</td> <td>固件在线升级支持</td></tr> <tr><td><a href="https://github.com/LiteOS/LiteOS/tree/develop" target="_blank" rel="noopener noreferrer">LiteOS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/components" target="_blank" rel="noopener noreferrer">components<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/components/security" target="_blank" rel="noopener noreferrer">security<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/components/security/mbedtls" target="_blank" rel="noopener noreferrer">mbedtls<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>安全协议TLS和DTLS</td></tr> <tr><td><a href="https://github.com/LiteOS/LiteOS/tree/develop" target="_blank" rel="noopener noreferrer">LiteOS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/components" target="_blank" rel="noopener noreferrer">components<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/components/net" target="_blank" rel="noopener noreferrer">net<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/components/net/lwip-2.0.3" target="_blank" rel="noopener noreferrer">lwip-2.0.3<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>TCPIP协议栈</td></tr> <tr><td><a href="https://github.com/LiteOS/LiteOS/tree/develop" target="_blank" rel="noopener noreferrer">LiteOS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/drivers" target="_blank" rel="noopener noreferrer">drivers<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/drivers/devices" target="_blank" rel="noopener noreferrer">devices<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/drivers/devices/gprs" target="_blank" rel="noopener noreferrer">gprs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td> <td>GPRS设备适配文件</td></tr> <tr><td><a href="https://github.com/LiteOS/LiteOS/tree/develop" target="_blank" rel="noopener noreferrer">LiteOS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/drivers" target="_blank" rel="noopener noreferrer">drivers<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/drivers/devices" target="_blank" rel="noopener noreferrer">devices<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/<a href="https://github.com/LiteOS/LiteOS/tree/develop/drivers/devices/wifi" target="_blank" rel="noopener noreferrer">wifi<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>/</td> <td>WIFI设备适配文件</td></tr></tbody></table> <h4 id="_5-6-4设备接入开发步骤"><a href="#_5-6-4设备接入开发步骤" aria-hidden="true" class="header-anchor">#</a> 5.6.4设备接入开发步骤</h4> <p><strong>步骤1</strong> 开发板的网口通过网线连接到路由器。</p> <p><strong>步骤2</strong> 设置本地IP。</p> <p>在sys_init.c中修改device接入的局域网的IP地址值。（注：目前demo程序采用的是静态IP地址的方式，如果需要使用DHCP方式，请在main.c中顶部头文件包含之后定义USE_DHCP宏即可）</p> <div class="language- extra-class"><pre class="language-text"><code>void net_init(void) 
{ 
    /* IP addresses initialization */ 
    IP_ADDRESS[0] = 192; 
    IP_ADDRESS[1] = 168; 
    IP_ADDRESS[2] = 0; 
    IP_ADDRESS[3] = 115; 
    NETMASK_ADDRESS[0] = 255; 
    NETMASK_ADDRESS[1] = 255; 
    NETMASK_ADDRESS[2] = 255; 
    NETMASK_ADDRESS[3] = 0; 
    GATEWAY_ADDRESS[0] = 192; 
    GATEWAY_ADDRESS[1] = 168; 
    GATEWAY_ADDRESS[2] = 0; 
    GATEWAY_ADDRESS[3] = 1;
}
</code></pre></div><p><strong>步骤3</strong> 网口的mac地址修改。</p> <p>在eth.c中将MAC_ADDR0~MAC_ADDR5修改成真实的mac地址值保证不重复。</p> <div class="language- extra-class"><pre class="language-text"><code>static int8_t eth_init(struct netif* netif) 
{ 
    HAL_StatusTypeDef hal_eth_init_status; 
    MACAddr[0] = 0x00; 
    MACAddr[1] = 0x80; 
    MACAddr[2] = 0xE1; 
    MACAddr[3] = 0x00; 
    MACAddr[4] = 0x00; 
    MACAddr[5] = 0x00;
} 
</code></pre></div><p><strong>步骤4</strong> 设置云平台IP以及设备EP Name和PSK。</p> <p>EP
Name就是在云平台上注册IMSI号，而PSK（预共享密钥）是用来加密传输的秘钥，agent_tiny_demo.c中示例如下：</p> <div class="language- extra-class"><pre class="language-text"><code>#define DEFAULT_SERVER_IPV4 &quot;139.159.209.89&quot;
char * g_endpoint_name = &quot;44440003&quot;; 
#ifdef WITH_DTLS 
char *g_endpoint_name_s = &quot;11110006&quot;; 
unsigned char g_psk_value[16] = {0xef,0xe8,0x18,0x45,0xa3,0x53,0xc1,0x3c,0x0c,0x89,0x92,0xb3,0x1d,0x6b,0x6a,0x96};  
#endif
</code></pre></div><p><strong>步骤5</strong> 编译并运行程序。</p> <p><strong>步骤6</strong> 查看设备状态。</p> <p>登录IoT平台开发者Portal，选择“我的设备”，在设备列表中查看对应设备的状态。如果状态为“绑定（bound）”，则表示设备已经成功接入IoT平台。</p> <p><strong>查看设备状态</strong></p> <p><img src="/assets/img/28.221076f5.png" alt></p> <p>----<strong>结束</strong></p> <h4 id="_5-6-5端云互通组件设备数据上报"><a href="#_5-6-5端云互通组件设备数据上报" aria-hidden="true" class="header-anchor">#</a> 5.6.5端云互通组件设备数据上报</h4> <p>LiteOS SDK端云互通组件设备数据上报调测过程：</p> <p><strong>步骤1</strong> 在设备侧执行app_data_report函数，使设备上报数据。</p> <p>修改agent_tiny_demo.c中的函数app_data_report如下：</p> <div class="language- extra-class"><pre class="language-text"><code>struct Led_Light
{
uint8_t lightvalue;
…
};
extern get_led_lightvalue (void);
void app_data_report(void)
{
struct Led_Light light;
data_report_t report_data;
    int ret;
    int cnt = 0;
    report_data.buf = (uint8_t *)&amp;light;
    report_data.callback = ack_callback;
    report_data.cookie = 0;
    report_data.len = sizeof(struct Led_Light);
    report_data.type = APP_DATA;
    while(1)
    {
        report_data.cookie = cnt;
        cnt++;
        ret = atiny_data_report(g_phandle, &amp;report_data);
        printf(&quot;report ret:%d\n&quot;,ret);
        (void)LOS_TaskDelay(250*8);
}
}
</code></pre></div><p><strong>步骤2</strong> 查看设备状态</p> <p>登录IoT平台的开发者Portal，在“我的设备”界面的设备列表中，选择上报数据的设备，查看“历史数据”，验证设备数据上报的情况。</p> <p><strong>使用LiteOS SDK端云互通组件的IoT设备数据上报业务流程</strong></p> <p><img src="data:image/png;base64,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" alt></p> <p><strong>查看数据上报结果</strong></p> <p><img src="/assets/img/30.b59701d4.png" alt></p> <p>----<strong>结束</strong></p> <h4 id="_5-6-6命令下发"><a href="#_5-6-6命令下发" aria-hidden="true" class="header-anchor">#</a> 5.6.6命令下发</h4> <p>命令下发一般分为两种形式：立即下发和缓存下发。</p> <ul><li><strong>立即下发：</strong> IoT平台立即发送收到的命令，如果设备不在线或者设备没收到指令则下发失败。立即下发适合对命令实时性有要求的场景，比如路灯开关灯，燃气表开关阀。使用立即下发时，应用服务器需要自己保证命令下发的时机。</li></ul> <p><strong>命令立即下发流程</strong></p> <p><img src="/assets/img/31.45347bf6.png" alt></p> <ul><li><strong>缓存下发：</strong> 平台收到命令后放入队列。在设备上线的时候，平台依次下发命令队列中的命令。缓存下发适合对命令实时性要求不高的场景，比如配置水表的参数。缓存下发平台根据设备的省电模式进行不同处理。</li></ul> <p><strong>命令缓存下发流程</strong></p> <p><img src="/assets/img/32.e01ec30e.png" alt></p> <p>应用服务器向IoT平台下发命令时，携带参数expireTime（简称TTL，表示最大缓存时间）。如果不带expireTime，则默认expireTime为48小时。</p> <p>expireTime=0：命令立即下发。</p> <p>expireTime&gt;0：命令缓存下发。</p> <p>LiteOS SDK端云互通组件场景命令下发的调测过程：</p> <p><strong>命令下发步骤如下</strong></p> <p><strong>步骤1</strong> 登录IoT平台的开发者Portal。开发者Portal的访问地址、账号和密码需要向IoT平台服务商申请。</p> <p><strong>步骤2</strong> 在“我的设备”界面的设备列表中，选择接收命令的设备，点击“命令下发（&lt;/&gt;)”。在弹出界面中，配置下发给设备的命令参数。</p> <p><strong>命令下发</strong></p> <p><img src="/assets/img/33.37c160cc.png" alt></p> <p><strong>步骤3</strong> 在“我的设备”界面的设备列表中，选择接收命令的设备-&gt;“历史命令”，查看“状态”栏的显示。</p> <p><strong>命令下发状态</strong></p> <p><img src="/assets/img/34.dabee9bd.png" alt></p> <p>状态说明如下：</p> <ul><li><p><strong>超期：</strong> 表示命令在IoT平台缓存时间超期，未向设备下发。</p></li> <li><p><strong>成功：</strong> 表示IoT平台已经将命令下发给设备，且收到设备上报的命令执行结果。</p></li> <li><p><strong>失败：</strong> 表示编解码插件解析为空，或执行结果响应里面有“ERROR CODE”等。</p></li> <li><p><strong>超时：</strong> 表示IoT平台等待ACK响应超时。</p></li> <li><p><strong>取消：</strong> 表示应用侧已经取消命令下发。</p></li> <li><p><strong>等待：</strong> 表示命令在IoT平台缓存，还未下发给设备。</p></li> <li><p><strong>已发送：</strong> 表示IoT平台已经将命令下发给设备。</p></li> <li><p><strong>已送达：</strong> 表示IoT平台已经将命令下发给设备，且收到设备返回的ACK消息。</p></li></ul> <p><strong>步骤4</strong> 在设备侧执行atiny_cmd_ioctl函数（实际调用atiny_write_app_write回调函数处理下发命令），读取从IoT平台接收的命令信息。</p> <div class="language- extra-class"><pre class="language-text"><code>struct Led_Light
int atiny_write_app_write(void* user_data, int len)
{
    int i;
		uint8_t cmd_data[len];
		memcpy(cmd_data, user_data, len);
		for(i=0;i&lt;len;i++)
		{
			printf(&quot;########   %d&quot;,cmd_data[i]);//打印下发的命令数据，用户可以处理下
//发的命令，根据具体的命令控制硬件设备
		}
    (void)atiny_printf(&quot;write num19 object success\r\n&quot;);
    return ATINY_OK;
}
</code></pre></div><p>----<strong>结束</strong></p> <h2 id="（参考）端云互通组件无线接入开发指南"><a href="#（参考）端云互通组件无线接入开发指南" aria-hidden="true" class="header-anchor">#</a> （参考）端云互通组件无线接入开发指南</h2> <h4 id="_5-7-1无线接入介绍"><a href="#_5-7-1无线接入介绍" aria-hidden="true" class="header-anchor">#</a> 5.7.1无线接入介绍</h4> <p>无线的接入方式包括WIFI、GSM、NB-IoT、Zigbee、蓝牙等，本文主要讲解WIFI和GSM（GPRS）的接入方式。对物联网开发者来说，WIFI或者GSM一般都是一个单独的模块，运行在MCU上的LiteOS
SDK端云互通组件需要使用WIFI或者GSM提供的网络服务时，需要通过串口AT指令就可以了，如图6-10所示，ESP8266是乐鑫的WIFI模组，SIM900A是SIMCom芯讯通推出的GSM/GPRS模组。</p> <p><strong>Huawei LiteOS SDK端云互通组件无线接入方案示意图</strong></p> <p><img src="data:image/png;base64,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" alt></p> <p>AT 即Attention，AT指令集是从终端设备 (Terminal Equipment，TE)或者数据终端设备
(Data Terminal Equipment，DTE)向终端适配器(Terminal Adapter，
TA)或数据电路终端设备 (Data Circuit Terminal
Equipment，DCE)发送的。通过TA，TE发送AT指令来控制移动台(Mobile
Station，MS)的功能，与GSM
网络业务进行交互。用户可以通过AT指令进行呼叫、短信、电话本、数据业务、传真等方面的控制。</p> <h4 id="_5-7-2-at框架介绍"><a href="#_5-7-2-at框架介绍" aria-hidden="true" class="header-anchor">#</a> 5.7.2 AT框架介绍</h4> <p>不论使用ESP8266还是SIM900A，都可以使用AT+UART方式接入，主要的差别在于具体的AT指令，但很多情况下都是类似的，LiteOS
SDK端云互通组件提供了一种AT框架，也可以称之为AT模板，方便用户移植不同串口通信模块（需要支持TCP/IP协议栈），AT框架的方案如下图所示。</p> <p>在下图中， AT Socket是适配Atiny Socket接口，类似posix socket，AT
Send是调用at_cmd发送AT命令，AT Recv是AT Analyse
Task通过LiteOS消息队列Post消息到用户接收任务，AT Analyse
Task主要来解析来自串口的消息，包括用户数据和命令的响应，串口USART主要是在中断或者DMA模式下接收数据，AT
API Register是提供设备模块注册API函数。</p> <p><strong>AT框架方案结构图</strong></p> <p><img src="data:image/png;base64,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" alt></p> <p>其中，深蓝色的部分是AT框架公共部分代码，用户不需要修改，浅蓝色的部分是设备相关代码，用户需要编写相应的设备代码，根据at_api_interface.h文件的定义，用户只要实现以下函数接口即可：</p> <div class="language- extra-class"><pre class="language-text"><code>typedef struct { 
 	int32_t  (*init)(void);  /*初始化，初始化串口、IP网络等*/ 
 	int8_t (*get_localmac)(int8_t *mac);/*获取本地MAC*/ 
 	int8_t (*get_localip)(int8_t *ip, int8_t * gw, int8_t * mask);/*获取本地IP*/ 
 	/*建立TCP或者UDP连接*/ 
 	int32_t  (*connect)(const int8_t * host, const int8_t *port, int32_t proto); 
 	/*发送，当命令发送后，如果超过一定的时间没收到应答，要返回错误*/ 
 	int32_t  (*send)(int32_t id , const uint8_t  *buf, uint32_t len); 
    int32_t  (*recv_timeout)(int32_t id , int8_t  *buf, uint32_t len, int32_t timeout); 
 	int32_t  (*recv)(int32_t id , int8_t  *buf, uint32_t len); 
     
 	int32_t  (*close)(int32_t id);/*关闭连接*/ 
 	int32_t  (*recv_cb)(int32_t id);/*收到各种事件处理，暂不实现 */ 
 	int32_t  (*deinit)(void); 
}at_adaptor_api;
</code></pre></div><h4 id="_5-7-3-移植wifi模块-esp8266"><a href="#_5-7-3-移植wifi模块-esp8266" aria-hidden="true" class="header-anchor">#</a> 5.7.3 移植WIFI模块-ESP8266</h4> <p><strong>步骤1</strong> STM32F429开发板上连接ESP8266 串口wifi模块，如下图所示：</p> <p><img src="/assets/img/37.2f8c9791.jpg" alt></p> <p><strong>步骤2</strong> 首先在设备文件LiteOS/drivers/devices/wifi/esp8266.c定义API结构体。</p> <div class="language- extra-class"><pre class="language-text"><code>at_adaptor_api at_interface = {  
     .init = esp8266_init,     
     .get_localmac = esp8266_get_localmac, /*get local MAC*/ 
     .get_localip = esp8266_get_localip,/*get local IP*/ 
     /*build TCP or UDP connection*/ 
     .connect = esp8266_connect, 
     .send = esp8266_send, 
     .recv_timeout = esp8266_recv_timeout, 
     .recv = esp8266_recv, 
     .close = esp8266_close,/*close connection*/ 
     .recv_cb = esp8266_recv_cb,/* operation for events, not implements yet */ 
     .deinit = esp8266_deinit, 
};
</code></pre></div><p><strong>步骤3</strong> 在LiteOS/targets/STM32F429IGTx_FIRE/Src/main.c文件中，代码如下:</p> <div class="language- extra-class"><pre class="language-text"><code>#elif defined(WITH_AT_FRAMEWORK) &amp;&amp; (defined(USE_ESP8266) || defined(USE_SIM900A)) 
     extern at_adaptor_api at_interface; 
     at_api_register(&amp;at_interface); 
     agent_tiny_entry();
#endif
</code></pre></div><p><strong>步骤4</strong> 确保打开了编译宏。</p> <p><strong>全局宏包含WITH_AT_FRAMEWORK和USE_ESP8266</strong></p> <p><img src="/assets/img/38.73c165f6.png" alt></p> <p><strong>步骤5</strong> 在LiteOS/drivers/devices/wifi/esp8266.c实现具体设备API接口。</p> <p>例如demo例程初始化如下：</p> <div class="language- extra-class"><pre class="language-text"><code>int32_t esp8266_init() 
{ 
     at.init(); 
     at.oob_register(AT_DATAF_PREFIX, strlen(AT_DATAF_PREFIX), esp8266_data_handler); 
 #ifdef 	USE_USARTRX_DMA   HAL_UART_Receive_DMA(&amp;at_usart,&amp;at.recv_buf[at_user_conf.user_buf_len*0],at_user_conf.user_buf_len); 
#endif 
     esp8266_reset();   
     esp8266_echo_off(); 
     esp8266_choose_net_mode(STA); 
     while(AT_FAILED == esp8266_joinap(WIFI_SSID, WIFI_PASSWD)) 
     { 
         AT_LOG(&quot;connect ap failed, repeat...&quot;); 
     }; 
     esp8266_set_mux_mode(at.mux_mode); 
     static int8_t ip[32]; 
     static int8_t gw[32]; 
     static int8_t mac[32]; 
     esp8266_get_localip(ip, gw, NULL); 
     esp8266_get_localmac(mac); 
     AT_LOG(&quot;get ip:%s, gw:%s mac:%s&quot;, ip, gw, mac); 
     return AT_OK; 
}
</code></pre></div><p>其它几个接口参考LiteOS/drivers/devices/wifi/esp8266.c即可，而ESP8266模块AT命令定义的宏在LiteOS/drivers/devices/wifi/esp8266.h，具体含义可以查看ESP8266官方手册,
具体含义可以查看ESP8266官方手册,另外用户需要在esp8266.h中修改自己连接的wifi的ssid和密码。</p> <div class="language- extra-class"><pre class="language-text"><code>#define AT_CMD_RST    		&quot;AT+RST&quot; 
#define AT_CMD_ECHO_OFF 	&quot;ATE0&quot; 
#define AT_CMD_CWMODE  		&quot;AT+CWMODE_CUR&quot; 
#define AT_CMD_JOINAP  		&quot;AT+CWJAP_CUR&quot; 
#define AT_CMD_MUX 		&quot;AT+CIPMUX&quot; 
#define AT_CMD_CONN		&quot;AT+CIPSTART&quot; 
#define AT_CMD_SEND		&quot;AT+CIPSEND&quot; 
#define AT_CMD_CLOSE		&quot;AT+CIPCLOSE&quot; 
#define AT_CMD_CHECK_IP		&quot;AT+CIPSTA_CUR?&quot; 
#define AT_CMD_CHECK_MAC	&quot;AT+CIPSTAMAC_CUR?&quot;
</code></pre></div><h4 id="_5-7-4-移植gsm模块-sim900a"><a href="#_5-7-4-移植gsm模块-sim900a" aria-hidden="true" class="header-anchor">#</a> 5.7.4 移植GSM模块-SIM900A</h4> <p>与ESP8266非常类似，只不过具体AT命令有稍微差异。</p> <p><strong>步骤1</strong> STM32F429开发板上连接SIM900A串口GSM模块，如下图所示</p> <p><img src="/assets/img/39.8283e2da.jpg" alt></p> <p><strong>步骤2</strong> 在设备文件LiteOS/drivers/devices/gprs/sim900a.c定义API结构体。</p> <div class="language- extra-class"><pre class="language-text"><code>at_adaptor_api at_interface = { 
    .init = sim900a_ini, 
    /*TCP or UDP connect*/ 
    .connect = sim900a_connect, 
    /*send data, if no response, retrun error*/ 
    .send = sim900a_send, 
    .recv_timeout = sim900a_recv_timeout, 
    .recv = sim900a_recv, 
    .close = sim900a_close,/*close connect*/ 
    .recv_cb = sim900a_recv_cb,/*receive event handle, no available by now */ 
.deinit = sim900a_deinit, 
};
</code></pre></div><p><strong>步骤3</strong> 在LiteOS/targets/STM32F429IGTx_FIRE/Src/main.c文件中，代码如下：</p> <div class="language- extra-class"><pre class="language-text"><code>#elif defined(WITH_AT_FRAMEWORK) &amp;&amp; (defined(USE_ESP8266) || defined(USE_SIM900A)) 
     extern at_adaptor_api at_interface; 
     at_api_register(&amp;at_interface); 
     agent_tiny_entry(); 
#endif
</code></pre></div><p><strong>步骤4</strong> 确保打开了编译宏</p> <p><strong>全局宏包含WITH_AT_FRAMEWORK和USE_SIM900A</strong></p> <p><img src="/assets/img/40.3614818f.png" alt></p> <p><strong>步骤4</strong> 在LiteOS/drivers/devices/gprs/sim900a.c实现具体设备API接口。</p> <p>例如demo例程发送和接收函数如下：</p> <div class="language- extra-class"><pre class="language-text"><code>int32_t  sim900a_recv_timeout(int32_t id, int8_t * buf, uint32_t len, int32_t timeout) 
{ 
uint32_t qlen = sizeof(QUEUE_BUFF); 
    QUEUE_BUFF  qbuf = {0, NULL}; 
    printf(&quot;****at.linkid[id].qid=%d***\n&quot;,at.linkid[id].qid); 
    int ret = LOS_QueueReadCopy(at.linkid[id].qid, &amp;qbuf, &amp;qlen, timeout); 
    AT_LOG(&quot;ret = %x, len = %d, id = %d&quot;, ret, qbuf.len, id); 
    if (qbuf.len){ 
        memcpy(buf, qbuf.addr, qbuf.len); 
        atiny_free(qbuf.addr); 
    } 
    return qbuf.len; 
} 
int32_t sim900a_send(int32_t id , const uint8_t  *buf, uint32_t len) 
{ 
    int32_t ret = -1; 
    char cmd[64] = {0}; 
    if (AT_MUXMODE_SINGLE == at.mux_mode) 
    { 
        snprintf(cmd, 64, &quot;%s=%d&quot;, AT_CMD_SEND, len); 
    } 
    else 
    { 
        snprintf(cmd, 64, &quot;%s=%d,%d&quot;, AT_CMD_SEND, id, len); 
    } 
    ret = at.write((int8_t *)cmd, &quot;SEND OK&quot;, (int8_t*)buf, len); 
    return ret; 
}
</code></pre></div><p>而SIM900A模块AT命令定义的宏在LiteOS/drivers/devices/gprs/sim900a.h定义如下，具体含义可以查看SIM900A官方手册。</p> <div class="language- extra-class"><pre class="language-text"><code>#define AT_CMD_AT    		&quot;AT&quot; 
#define AT_CMD_CPIN         &quot;AT+CPIN?&quot;//check sim card 
#define AT_CMD_COPS         &quot;AT+COPS?&quot;//check register network 
#define AT_CMD_CLOSE    	&quot;AT+CIPCLOSE&quot; 
#define AT_CMD_SHUT    		&quot;AT+CIPSHUT&quot; 
#define AT_CMD_ECHO_OFF 	&quot;ATE0&quot; 
#define AT_CMD_ECHO_ON  	&quot;ATE1&quot; 
#define AT_CMD_MUX 		&quot;AT+CIPMUX&quot; 
#define AT_CMD_CLASS        &quot;AT+CGCLASS&quot;//set MS type 
#define AT_CMD_PDP_CONT   	&quot;AT+CGDCONT&quot;//configure pdp context #define #defineAT_CMD_PDP_ATT    	&quot;AT+CGATT&quot;//pdp attach network 
#define AT_CMD_PDP_ACT		&quot;AT+CGACT&quot;//active pdp context 
#define AT_CMD_CSTT		&quot;AT+CSTT&quot;//start task 
#define AT_CMD_CIICR		&quot;AT+CIICR&quot;//start gprs connect 
#define AT_CMD_CIFSR		&quot;AT+CIFSR&quot;//get local ip 
#define AT_CMD_CIPHEAD		&quot;AT+CIPHEAD&quot; 
#define AT_CMD_CONN		&quot;AT+CIPSTART&quot; 
#define AT_CMD_SEND		&quot;AT+CIPSEND&quot; 
#define AT_CMD_CLOSE		&quot;AT+CIPCLOSE&quot;
</code></pre></div><h3 id="注意事项"><a href="#注意事项" aria-hidden="true" class="header-anchor">#</a> 注意事项</h3> <p>由于LiteOS
SDK端云互通组件的任务是发送和接收在同一个任务中，接收消息的接口不能一直是阻塞的，而必须使用带有超时机制的接收接口，即我们总是实现int32_t
(*recv_timeout)(int32_t id , int8_t *buf, uint32_t len, int32_t
timeout);这个接口，且接收超时时间目前是10秒（#define BIND_TIMEOUT (10)）。</p> <p>如果用户设计的应用发送消息和接收消息在不同的任务中，那么可以使用阻塞接口int32_t
(*recv)(int32_t id , int8_t *buf, uint32_t len)。</p> <h2 id="（参考）设备模拟器接入平台"><a href="#（参考）设备模拟器接入平台" aria-hidden="true" class="header-anchor">#</a> （参考）设备模拟器接入平台</h2> <h4 id="_5-8-1-设备模拟器接入平台"><a href="#_5-8-1-设备模拟器接入平台" aria-hidden="true" class="header-anchor">#</a> 5.8.1 设备模拟器接入平台</h4> <p>设备接入IoT平台后，IoT平台才可以对设备进行管理。</p> <p>IoT平台提供了设备模拟器，可以模拟真实设备接入IoT平台的场景。本节基于设备模拟器进行操作。</p> <p><strong>步骤1</strong> 选择“模拟器”-&gt;“NB设备模拟器”-&gt;“绑定设备”，输入验证码，点击“确定”。</p> <p>输入的验证码需要和注册设备时使用的验证码（verifyCode）一致。</p> <p><strong>设备模拟器</strong></p> <p><img src="/assets/img/41.782113b6.png" alt></p> <p><strong>步骤1</strong> 选择“我的设备”，在设备列表中查看对应设备的状态。如果状态为“绑定（bound）”，则表示设备已经成功接入IoT平台。</p> <p><strong>查看设备状态</strong></p> <p><img src="/assets/img/42.22921ad6.png" alt></p> <p>----<strong>结束</strong></p> <h4 id="_5-8-2-设备模拟器数据上报"><a href="#_5-8-2-设备模拟器数据上报" aria-hidden="true" class="header-anchor">#</a> 5.8.2 设备模拟器数据上报</h4> <p>设备在收到平台下发命令或者资源订阅后，会上报命令响应或资源订阅消息，由IoT平台将设备上报的消息推送到应用服务器或订阅的地址。如果上报数据的南向设备是NB-IoT设备或者使用LiteOS
SDK端云互通组件集成的设备，IoT平台在将消息推送到应用服务器或订阅的地址之前，会先调用编解码插件对消息进行解析。</p> <p>IoT平台提供了设备模拟器，可以模拟真实设备上报数据的场景。本节基于NB设备模拟器（NB设备模拟器也可以模拟LiteOS
SDK端云互通组件 的数据上报功能）进行操作。</p> <p><strong>步骤1</strong> 登录IoT平台的开发者Portal。开发者Portal的访问地址、账号和密码需要向IoT平台服务商申请。</p> <p><strong>步骤2</strong> 选择“模拟器”-&gt;“NB设备模拟器”，输入需要上报的码流，点击“发送”。</p> <p>在“设备日志信息”-&gt;“数据发送”中，可以查看数据上报信息。</p> <p>在“设备日志信息”-&gt;“数据接收”中，可以查看数据上报响应信息。</p> <p><strong>模拟数据上报</strong></p> <p><img src="/assets/img/43.97730e6e.png" alt></p> <p><strong>步骤3</strong> 在“我的设备”界面的设备列表中，选择上报数据的设备，查看“历史数据”，验证编解码插件是否可以对上报数据进行解析。</p> <p><strong>查看数据上报结果</strong></p> <p><img src="/assets/img/44.fef5cd67.png" alt></p> <p>以一款Led灯设备的编解码插件为例进行说明，该款设备包含一种服务LightControl（设置多种服务包含多种属性、多种命令类似）：</p> <ul><li>LightControl服务：包含light一种属性（灯亮或者灭）和一种命令（设置灯亮或者灭）。</li></ul> <blockquote><p>使用设备模拟器中上报“01”的十六进制码流后，在“历史数据中”获得的编解码插件解码结果将会为：</p></blockquote> <blockquote><p>LightControl：{ &quot;light&quot;: 1 }</p></blockquote> <p><strong>步骤4</strong> 在“我的设备”界面的设备列表中，选择上报数据的设备，查看“历史数据”，验证设备数据上报的情况。</p> <p>“历史数据”中显示为经过编解码插件解析后的结果。</p> <p>----<strong>结束</strong></p> <h4 id="_5-8-3-应用模拟器命令下发"><a href="#_5-8-3-应用模拟器命令下发" aria-hidden="true" class="header-anchor">#</a> 5.8.3 应用模拟器命令下发</h4> <p>应用服务器需要调用IoT平台的命令下发接口，对设备下发控制指令。如果接收命令的设备是NB-IoT设备（或者集成LiteOS
SDK端云互通组件的南向设备），IoT平台收到应用服务器下发的命令后，会先调用编解码插件进行转换，再发送给设备。</p> <p>IoT平台提供了应用模拟器，可以模拟应用服务器下发命令的场景。本节基于应用模拟器进行操作。</p> <p><strong>步骤1</strong> 在“我的设备”界面的设备列表中，选择接收命令的设备，点击“命令下发（&lt;/&gt;)”。</p> <p>在弹出界面中，配置下发给设备的命令参数。</p> <p><strong>命令下发</strong></p> <p><img src="/assets/img/45.37c160cc.png" alt></p> <p><strong>步骤2</strong> 在“我的设备”界面的设备列表中，选择接收命令的设备-&gt;“历史命令”，查看“状态”栏的显示。</p> <p><strong>命令下发状态</strong></p> <p><img src="/assets/img/46.dabee9bd.png" alt></p> <p>状态说明如下：</p> <ul><li><p><strong>超期：</strong> 表示命令在IoT平台缓存时间超期，未向设备下发。</p></li> <li><p><strong>成功：</strong> 表示IoT平台已经将命令下发给设备，且收到设备上报的命令执行结果。</p></li> <li><p><strong>失败：</strong> 表示编解码插件解析为空，或执行结果响应里面有“ERROR CODE”等。</p></li> <li><p><strong>超时：</strong> 表示IoT平台等待ACK响应超时。</p></li> <li><p><strong>取消：</strong> 表示应用侧已经取消命令下发。</p></li> <li><p><strong>等待：</strong> 表示命令在IoT平台缓存，还未下发给设备。</p></li> <li><p><strong>已发送：</strong> 表示IoT平台已经将命令下发给设备。</p></li> <li><p><strong>已送达：</strong> 表示IoT平台已经将命令下发给设备，且收到设备返回的ACK消息。</p></li></ul> <p><strong>步骤3</strong> 选择“模拟器”-&gt;“NB设备模拟器”-&gt;“设备日志信息”-&gt;“数据接收”，查看设备模拟器收到的命令信息。</p> <p><strong>命令接收信息</strong></p> <p><img src="/assets/img/47.707dcf24.png" alt></p> <p>----<strong>结束</strong></p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/LiteOS/LiteOS_Documents/edit/master/docs/sdk/sdk-oceanconnect.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2018-8-10 15:34:17</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/sdk/sdk-apis.html" class="prev">
          LiteOS SDK 端云互通组件 API
        </a></span> <span class="next"><a href="/sdk/sdk-lwm2m.html">
          附录 LwM2M 协议介绍
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.c5ac3aee.js" defer></script><script src="/assets/js/3.c0534be0.js" defer></script>
  </body>
</html>
