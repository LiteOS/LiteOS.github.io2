(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{184:function(t,n,a){t.exports=a.p+"assets/img/event-wakeup.88d386bb.png"},185:function(t,n){t.exports="data:image/png;base64,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"},552:function(t,n,a){"use strict";a.r(n);var e=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"event"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#event","aria-hidden":"true"}},[t._v("#")]),t._v(" Event")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#overview"}},[t._v("Overview")]),e("ul",[e("li",[e("a",{attrs:{href:"#basic-concept"}},[t._v("Basic Concept")])]),e("li",[e("a",{attrs:{href:"#operation-mechanism"}},[t._v("Operation Mechanism")])])])]),e("li",[e("a",{attrs:{href:"#development-guidelines"}},[t._v("Development Guidelines")]),e("ul",[e("li",[e("a",{attrs:{href:"#usage-scenarios"}},[t._v("Usage Scenarios")])]),e("li",[e("a",{attrs:{href:"#functions"}},[t._v("Functions")])]),e("li",[e("a",{attrs:{href:"#development-process"}},[t._v("Development Process")])])])]),e("li",[e("a",{attrs:{href:"#precautions"}},[t._v("Precautions")])]),e("li",[e("a",{attrs:{href:"#programming-example"}},[t._v("Programming Example")]),e("ul",[e("li",[e("a",{attrs:{href:"#example-description"}},[t._v("Example Description")])]),e("li",[e("a",{attrs:{href:"#example-code"}},[t._v("Example Code")])]),e("li",[e("a",{attrs:{href:"#verification"}},[t._v("Verification")])])])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"overview"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),e("h3",{attrs:{id:"basic-concept"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#basic-concept","aria-hidden":"true"}},[t._v("#")]),t._v(" Basic Concept")]),t._v(" "),e("p",[t._v("Events are used for synchronization between tasks. A task or interrupt service routine can trigger an event (a synchronization signal) to another task through an event control block. One task is able to wait for several events to occur: whether while one event occurring or after several events occurred, both of these are sure to wake task up to do event handling.")]),t._v(" "),e("p",[t._v("In a multi-task environment, tasks must be synchronized. In the one-to-many synchronization model, a task waits for multiple events. In the many-to-many synchronization model, multiple tasks wait for multiple events.")]),t._v(" "),e("p",[t._v("Tasks trigger or wait for events through event control blocks. Events in Huawei LiteOS are used only for task synchronization, and not for data transport.")]),t._v(" "),e("p",[t._v("Characteristics of events in Huawei LiteOS are as follows:")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("Events are not associated with tasks and are independent from each other. A 32-bit variable is used to indicate the type of the event in which a task is interested. Each bit indicates one event type with 0 indicating that the event does not occur and 1 indicating that the event occurs. There are 31 bits that indicate event types (bit 25 is reserved).")])]),t._v(" "),e("li",[e("p",[t._v("Events are used only for task synchronization, and not for data transport.")])]),t._v(" "),e("li",[e("p",[t._v("Sending the same event type to a task for multiple times is equivalent to sending for only once.")])]),t._v(" "),e("li",[e("p",[t._v("Multiple tasks are allowed to read or write the same event.")])]),t._v(" "),e("li",[e("p",[t._v("Huawei LiteOS supports event reading and writing timeout.")])])]),t._v(" "),e("h4",{attrs:{id:"event-control-block"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#event-control-block","aria-hidden":"true"}},[t._v("#")]),t._v(" Event control block")]),t._v(" "),e("div",{staticClass:"language-c extra-class"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{attrs:{class:"token comment"}},[t._v("/**\n * @ingroup los_event\n * Event control structure\n */")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("typedef")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" tagEvent\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    UINT32 uwEventID"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("            "),e("span",{attrs:{class:"token comment"}},[t._v("/**bit that indicates an event type*/")]),t._v("\n    LOS_DL_LIST    stEventList"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),e("span",{attrs:{class:"token comment"}},[t._v("/**linked list of  event reading tasks*/")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" EVENT_CB_S"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v("PEVENT_CB_S"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[e("code",[t._v("uwEventID")]),t._v(": Indicates the type of the event in which a task is interested. Each bit indicates one event type with 0 indicating that the event does not occur and 1 indicating that the event occurs. There are 31 bits that indicate event types (bit 25 is reserved).")]),t._v(" "),e("h4",{attrs:{id:"event-reading-mode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#event-reading-mode","aria-hidden":"true"}},[t._v("#")]),t._v(" Event reading mode")]),t._v(" "),e("p",[t._v("An event reading mode can be configured during event reading. Event reading modes are as follows:")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("LOS_WAITMODE_AND")]),t._v(": Indicates that event of all event types specified by a mask need to be read. Event reading succeeds only when all events that are read occur.")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("LOS_WAITMODE_OR")]),t._v(": Indicates that an event of an event type specified by a mask needs to be read. Event reading succeeds when the event that is read occurs.")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("LOS_WAITMODE_CLR")]),t._v(": Indicates that after successful event reading, the event types or event type that is read is automatically cleared.")])])]),t._v(" "),e("h3",{attrs:{id:"operation-mechanism"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#operation-mechanism","aria-hidden":"true"}},[t._v("#")]),t._v(" Operation Mechanism")]),t._v(" "),e("p",[t._v("During event reading, one type or multiple types specified by uwEventMask are read. After event reading succeeds, the event type that is read is explicitly cleared if "),e("code",[t._v("LOS_WAITMODE_CLR")]),t._v(" is configured in the event reading mode. The event type that is not cleared if "),e("code",[t._v("LOS_WAITMODE_CLR")]),t._v(" is not configured. You can configure the event reading mode by passing in "),e("code",[t._v("LOS_WAITMODE_AND")]),t._v(" to read all events of the event types specified by the event mask or by passing in "),e("code",[t._v("LOS_WAITMODE_OR")]),t._v(" to read an event of an event type specified by the event mask.")]),t._v(" "),e("p",[t._v("During event writing, a specified event type is written into an event. Multiple event types can be written concurrently. Event writing may trigger task scheduling.")]),t._v(" "),e("p",[t._v("During event clearance, the bit that specifies the event type to be cleared is set to 0.")]),t._v(" "),e("p",[t._v("Tasks woken up by events")]),t._v(" "),e("p",[e("img",{attrs:{src:a(184),alt:""}})]),t._v(" "),e("h2",{attrs:{id:"development-guidelines"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#development-guidelines","aria-hidden":"true"}},[t._v("#")]),t._v(" Development Guidelines")]),t._v(" "),e("h3",{attrs:{id:"usage-scenarios"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#usage-scenarios","aria-hidden":"true"}},[t._v("#")]),t._v(" Usage Scenarios")]),t._v(" "),e("p",[t._v("Events are applicable in a variety of task synchronization scenarios and are partially similar to semaphore in purpose.")]),t._v(" "),e("h3",{attrs:{id:"functions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#functions","aria-hidden":"true"}},[t._v("#")]),t._v(" Functions")]),t._v(" "),e("p",[t._v("The event module provides the following functions:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Function Category")]),t._v(" "),e("th",[t._v("API")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Event initialization")]),t._v(" "),e("td",[t._v("LOS_EventInit")]),t._v(" "),e("td",[t._v("Initializes an event control block")])]),t._v(" "),e("tr",[e("td",[t._v("Event reading")]),t._v(" "),e("td",[t._v("LOS_EventRead")]),t._v(" "),e("td",[t._v("Reads an event within N ticks")])]),t._v(" "),e("tr",[e("td",[t._v("Event writing")]),t._v(" "),e("td",[t._v("LOS_EventWrite")]),t._v(" "),e("td",[t._v("Writes an event")])]),t._v(" "),e("tr",[e("td",[t._v("Event clearance")]),t._v(" "),e("td",[t._v("LOS_EventClear")]),t._v(" "),e("td",[t._v("Clears an event")])]),t._v(" "),e("tr",[e("td",[t._v("Event mask verification")]),t._v(" "),e("td",[t._v("LOS_EventPoll")]),t._v(" "),e("td",[t._v("Determines whether an event meets the expectations based on the passed-in event value, event mask, and verification mode")])]),t._v(" "),e("tr",[e("td",[t._v("Event destroying")]),t._v(" "),e("td",[t._v("LOS_EventDestroy")]),t._v(" "),e("td",[t._v("Destroys a specified event control block")])])])]),t._v(" "),e("h3",{attrs:{id:"development-process"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#development-process","aria-hidden":"true"}},[t._v("#")]),t._v(" Development Process")]),t._v(" "),e("p",[t._v("Typical process of using the event module:")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("Call the "),e("code",[t._v("LOS_EventInit")]),t._v(" API to initialize an event control block.")])]),t._v(" "),e("li",[e("p",[t._v("Call the "),e("code",[t._v("LOS_EventInit")]),t._v(" to write an event.")])]),t._v(" "),e("li",[e("p",[t._v("Call the "),e("code",[t._v("LOS_EventRead")]),t._v(" API to read an event.")])]),t._v(" "),e("li",[e("p",[t._v("Call the "),e("code",[t._v("LOS_EventClear")]),t._v(" API to clear an event.")])])]),t._v(" "),e("h2",{attrs:{id:"precautions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#precautions","aria-hidden":"true"}},[t._v("#")]),t._v(" Precautions")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("Do not make calls to the "),e("code",[t._v("LOS_EventRead")]),t._v(" and "),e("code",[t._v("LOS_EventWrite")]),t._v(" APIs prior to the operating system being initialized. Otherwise, the operating system exhibits unexpected behavior.")])]),t._v(" "),e("li",[e("p",[t._v("While an interrupt is underway, events can be written into an event control block but event reads are not allowed.")])]),t._v(" "),e("li",[e("p",[t._v("Task blocking and event reading are not allowed while task scheduling is locked.")])]),t._v(" "),e("li",[e("p",[t._v("The input parameter of "),e("code",[t._v("LOS_EventClear")]),t._v(" is "),e("code",[t._v("~uwEvents")]),t._v(" (reverse code of event type).")])]),t._v(" "),e("li",[e("p",[t._v("Bit 25 of the event mask is merely used to distinguish whether the "),e("code",[t._v("LOS_EventRead")]),t._v(" API returns an event or error code.")])])]),t._v(" "),e("h2",{attrs:{id:"programming-example"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#programming-example","aria-hidden":"true"}},[t._v("#")]),t._v(" Programming Example")]),t._v(" "),e("h3",{attrs:{id:"example-description"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example-description","aria-hidden":"true"}},[t._v("#")]),t._v(" Example Description")]),t._v(" "),e("p",[t._v("In the programming example, the "),e("code",[t._v("Example_TaskEntry")]),t._v(" task is executed to create the "),e("code",[t._v("Example_Event")]),t._v(" task. The "),e("code",[t._v("Example_Event")]),t._v(" task is blocked from reading events. The "),e("code",[t._v("Example_TaskEntry")]),t._v(" task writes an event in which the Example_Event task shows interest.")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("The "),e("code",[t._v("Example_TaskEntry")]),t._v(" task is executed to create the "),e("code",[t._v("Example_Event")]),t._v(" task. The "),e("code",[t._v("Example_Event")]),t._v(" task takes a higher priority than the "),e("code",[t._v("Example_TaskEntry")]),t._v(" task.")])]),t._v(" "),e("li",[e("p",[t._v("The "),e("code",[t._v("Example_Event")]),t._v(" task is blocked from reading the event 0x00000001. After the "),e("code",[t._v("Example_Event")]),t._v(" task is blocked, a task switch occurs to execute the task with a lower priority, namely, the "),e("code",[t._v("Example_TaskEntry")]),t._v(" task.")])]),t._v(" "),e("li",[e("p",[t._v("The "),e("code",[t._v("Example_TaskEntry")]),t._v(" task writes the event 0x00000001 toward the  "),e("code",[t._v("Example_Event")]),t._v(" task. The "),e("code",[t._v("Example_Event")]),t._v(" task is interested in the event 0x00000001 and is therefore woken up to process the event.")])]),t._v(" "),e("li",[e("p",[t._v("The "),e("code",[t._v("Example_Event")]),t._v(" task is executed.")])]),t._v(" "),e("li",[e("p",[t._v("The "),e("code",[t._v("Example_TaskEntry")]),t._v(" task is executed.")])])]),t._v(" "),e("h3",{attrs:{id:"example-code"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example-code","aria-hidden":"true"}},[t._v("#")]),t._v(" Example Code")]),t._v(" "),e("p",[t._v("The order in which print-out is generated provides some clues into task switches that occur during event operations.")]),t._v(" "),e("p",[t._v("The code is as follows:")]),t._v(" "),e("div",{staticClass:"language-c extra-class"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{attrs:{class:"token comment"}},[t._v("/* task pid */")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("static")]),t._v(" UINT32 g_TestTaskID"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("/* event control struct */")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("static")]),t._v(" EVENT_CB_S  example_event"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{attrs:{class:"token comment"}},[t._v("/* wait event type */")]),t._v("\n"),e("span",{attrs:{class:"token macro property"}},[t._v("#"),e("span",{attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" event_wait 0x00000001")]),t._v("\n\n"),e("span",{attrs:{class:"token comment"}},[t._v("/* example task entry function */")]),t._v("\nVOID "),e("span",{attrs:{class:"token function"}},[t._v("Example_Event")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("VOID"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    UINT32 uwEvent"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    UINT32 uwRet "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" LOS_OK"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{attrs:{class:"token comment"}},[t._v("/*\n     * timeout, WAITMODE to read event, timeout is 100 ticks,\n     * if timeout, wake task directly\n     */")]),t._v("\n    "),e("span",{attrs:{class:"token function"}},[t._v("dprintf")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v('"Example_Event wait event 0x%x \\n"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("event_wait"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    uwEvent "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("LOS_EventRead")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token operator"}},[t._v("&")]),t._v("example_event"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" event_wait"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" LOS_WAITMODE_AND"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token number"}},[t._v("100")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{attrs:{class:"token keyword"}},[t._v("if")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uwEvent "),e("span",{attrs:{class:"token operator"}},[t._v("==")]),t._v(" event_wait"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{attrs:{class:"token function"}},[t._v("dprintf")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v('"Example_Event,read event :0x%x\\n"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("uwEvent"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        uwRet "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("LOS_InspectStatusSetByID")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LOS_INSPECT_EVENT"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" LOS_INSPECT_STU_SUCCESS"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LOS_OK "),e("span",{attrs:{class:"token operator"}},[t._v("!=")]),t._v(" uwRet"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{attrs:{class:"token function"}},[t._v("dprintf")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v('"Set Inspect Status Err\\n"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{attrs:{class:"token function"}},[t._v("dprintf")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v('"Example_Event,read event timeout\\n"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        uwRet "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("LOS_InspectStatusSetByID")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LOS_INSPECT_EVENT"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" LOS_INSPECT_STU_ERROR"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LOS_OK "),e("span",{attrs:{class:"token operator"}},[t._v("!=")]),t._v(" uwRet"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{attrs:{class:"token function"}},[t._v("dprintf")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v('"Set Inspect Status Err\\n"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{attrs:{class:"token keyword"}},[t._v("return")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nUINT32 "),e("span",{attrs:{class:"token function"}},[t._v("Example_SndRcvEvent")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("VOID"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    UINT32 uwRet"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    TSK_INIT_PARAM_S stTask1"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{attrs:{class:"token comment"}},[t._v("/* event init */")]),t._v("\n    uwRet "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("LOS_EventInit")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token operator"}},[t._v("&")]),t._v("example_event"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{attrs:{class:"token keyword"}},[t._v("if")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uwRet "),e("span",{attrs:{class:"token operator"}},[t._v("!=")]),t._v(" LOS_OK"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{attrs:{class:"token function"}},[t._v("dprintf")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v('"init event failed .\\n"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" LOS_NOK"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{attrs:{class:"token comment"}},[t._v("/* create task */")]),t._v("\n    "),e("span",{attrs:{class:"token function"}},[t._v("memset")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token operator"}},[t._v("&")]),t._v("stTask1"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token number"}},[t._v("0")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token keyword"}},[t._v("sizeof")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TSK_INIT_PARAM_S"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    stTask1"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pfnTaskEntry "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TSK_ENTRY_FUNC"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("Example_Event"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    stTask1"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pcName       "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"EventTsk1"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    stTask1"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uwStackSize  "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" LOSCFG_BASE_CORE_TSK_DEFAULT_STACK_SIZE"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    stTask1"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("usTaskPrio   "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token number"}},[t._v("5")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    uwRet "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("LOS_TaskCreate")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token operator"}},[t._v("&")]),t._v("g_TestTaskID"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("&")]),t._v("stTask1"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{attrs:{class:"token keyword"}},[t._v("if")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uwRet "),e("span",{attrs:{class:"token operator"}},[t._v("!=")]),t._v(" LOS_OK"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{attrs:{class:"token function"}},[t._v("dprintf")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v('"task create failed .\\n"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" LOS_NOK"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{attrs:{class:"token comment"}},[t._v("/* write event */")]),t._v("\n    "),e("span",{attrs:{class:"token function"}},[t._v("dprintf")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v('"Example_TaskEntry_Event write event .\\n"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    uwRet "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("LOS_EventWrite")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token operator"}},[t._v("&")]),t._v("example_event"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" event_wait"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{attrs:{class:"token keyword"}},[t._v("if")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uwRet "),e("span",{attrs:{class:"token operator"}},[t._v("!=")]),t._v(" LOS_OK"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{attrs:{class:"token function"}},[t._v("dprintf")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v('"event write failed .\\n"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" LOS_NOK"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{attrs:{class:"token comment"}},[t._v("/* clear event flag */")]),t._v("\n    "),e("span",{attrs:{class:"token function"}},[t._v("dprintf")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v('"EventMask:%d\\n"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" example_event"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uwEventID"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{attrs:{class:"token function"}},[t._v("LOS_EventClear")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token operator"}},[t._v("&")]),t._v("example_event"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("~")]),t._v("example_event"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uwEventID"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{attrs:{class:"token function"}},[t._v("dprintf")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v('"EventMask:%d\\n"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" example_event"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uwEventID"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" LOS_OK"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h3",{attrs:{id:"verification"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#verification","aria-hidden":"true"}},[t._v("#")]),t._v(" Verification")]),t._v(" "),e("p",[t._v("The verification result is as follows:")]),t._v(" "),e("p",[e("img",{attrs:{src:a(185),alt:""}})])])}],s=a(0),o=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},e,!1,null,null,null);o.options.__file="event.md";n.default=o.exports}}]);